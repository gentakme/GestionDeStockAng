<button routerLink="/clientAdd" pButton label="Add Client" style="float: right" pRipple type="button" icon="pi pi-plus"
    class="p-button-rounded p-button-outlined-sm"></button>

<div class="content-section implementation p-fluid">
    <h5>Client</h5>
    <p-toast></p-toast>

    <div class="card">
        <p-table #dt  [rows]="10" [paginator]="true"
         [rowHover]="true" dataKey="id"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
        [showCurrentPageReport]="true"   [value]="clients" dataKey="id" editMode="row"  >
            <ng-template pTemplate="header">
                <tr>
                    <th>First name</th>
                    <th>Last name</th>
                    <th>Email</th>
                    <th>Phone number</th>
                     <th style="width: 8rem"></th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-client let-editing="editing" let-ri="rowIndex">
                <tr [pEditableRow]="client">
                    <td>
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input pInputText type="text" type="text" [(ngModel)]="client.firstName" required />
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{ client.firstName }}

                            </ng-template>
                        </p-cellEditor>
                    </td>
                    <td>
                        
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input pInputText type="text" [(ngModel)]="client.lastName" required />
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{ client.lastName }}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                    <td>
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input pInputText type="text" [(ngModel)]="client.email" required />
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{ client.email }}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                    <td>
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input pInputText type="text" [(ngModel)]="client.phoneNumber" required />
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{ client.phoneNumber }}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                    
                    <td style="text-align: center">
                        <button *ngIf="!editing" pButton pRipple type="button" pInitEditableRow icon="pi pi-pencil"
                            class="p-button-rounded p-button-text"></button>
                        <button *ngIf="!editing" pButton pRipple type="button" icon="pi pi-trash"
                            (click)="delete(client.id)" class="p-button-rounded p-button-text"></button>
                        <button *ngIf="editing" pButton pRipple type="button" pSaveEditableRow icon="pi pi-check"
                            (click)="update(client)"
                            class="p-button-rounded p-button-text p-button-success p-mr-2"></button>
                        <button *ngIf="editing" pButton pRipple type="button" pCancelEditableRow icon="pi pi-times"
                            class="p-button-rounded p-button-text p-button-danger"></button>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>